package com.sobkhobor.jobcircular.activity;import android.content.Context;import android.content.Intent;import android.os.Bundle;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import androidx.appcompat.app.AppCompatActivity;import androidx.viewpager.widget.PagerAdapter;import androidx.viewpager.widget.ViewPager;import com.sobkhobor.jobcircular.R;import com.google.android.material.button.MaterialButton;public class MainScreen extends AppCompatActivity {    private int[] layouts;    private ViewPager viewPager;    private MyViewPagerAdapter myViewPagerAdapter;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_main_screen);        viewPager=findViewById(R.id.viewpager);        layouts = new int[]{                R.layout.slider_one,                R.layout.slider_two,                R.layout.slider_three};        myViewPagerAdapter = new MyViewPagerAdapter();        viewPager.setAdapter(myViewPagerAdapter);        viewPager.addOnPageChangeListener(new ViewPager.OnPageChangeListener() {            @Override            public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {            }            @Override            public void onPageSelected(int position) {            }            @Override            public void onPageScrollStateChanged(int state) {            }        });    }    public class MyViewPagerAdapter extends PagerAdapter {        private LayoutInflater layoutInflater;        public MyViewPagerAdapter() {        }        @Override        public Object instantiateItem(ViewGroup container, int position) {            layoutInflater = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE);            View view = layoutInflater.inflate(layouts[position], container, false);           MaterialButton button=view.findViewById(R.id.download);            button.setOnClickListener(new View.OnClickListener() {                @Override                public void onClick(View v) {                    // checking for last page                    // if last page home screen will be launched                    int current = getItem(+1);                    if (current < layouts.length) {                        // move to next screen                        viewPager.setCurrentItem(current);                    } else {                        new PrefManager(getApplicationContext()).setFirstTimeLaunch(false);                        startActivity(new Intent(MainScreen.this, MainActivity.class));                                            }                }            }            );            container.addView(view);            return view;        }        private int getItem(int i) {            return viewPager.getCurrentItem() + i;        }        @Override        public int getCount() {            return layouts.length;        }        @Override        public boolean isViewFromObject(View view, Object obj) {            return view == obj;        }        @Override        public void destroyItem(ViewGroup container, int position, Object object) {            View view = (View) object;            container.removeView(view);        }    }}